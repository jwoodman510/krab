@model Krab.Web.Models.Identity.IndexViewModel
@{
    ViewBag.Title = "Manage";
}

<script src="../../Scripts/app/controller/redditAuthCtrl.js"></script>

<div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 text-center">
    <h2>@ViewBag.Title</h2>
</div>
<div ng-controller="RedditAuthController">
    <hr />
    <div class="row">
        <div class="col-md-6 col-lg-6 col-sm-6 col-xs-6">
            <label style="float: right">Password:</label>
        </div>
        <div class="col-md-6 col-lg-6 col-sm-6 col-xs-6">
            [
            @if (Model.HasPassword)
            {
                @Html.ActionLink("Change your password", "ChangePassword")
            }
            else
            {
                @Html.ActionLink("Create", "SetPassword")
            }
            ]
        </div>
    </div>
    <div class="row">
        <div class="col-md-6 col-lg-6 col-sm-6 col-xs-6">
            <label style="float: right">Reddit Account:</label>
        </div>
        <div class="col-md-6 col-lg-6 col-sm-6 col-xs-6">
            [
            @if (Model.HasRedditUser)
            {
                <a ng-click="unlinkRedditAccount()" style="cursor: pointer" ng-if="!isUnlinkComplete">Unlink</a>
                <a ng-click="linkRedditAccount()" style="cursor: pointer" ng-if="isUnlinkComplete">Link</a>
                <i class="fa fa-spinner fa-spin" ng-if="isLoading"></i>
            }
            else
            {
                <a ng-click="linkRedditAccount()" style="cursor: pointer">Link</a>
                <i class="fa fa-spinner fa-spin" ng-if="isLoading"></i>
            }
            ]
        </div>
    </div>
</div>